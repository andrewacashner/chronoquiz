{"ast":null,"code":"export default class BackendRequest{constructor(_ref){let{url,method,bodyObject=null,token=null}=_ref;this.url=void 0;this.method=void 0;this.bodyObject=void 0;this.authorization=void 0;this.url=url;this.method=method;this.authorization=token?{Authorization:\"Token \".concat(token)}:null;this.bodyObject=bodyObject;}get fullUrl(){return\"\".concat(BackendRequest.SERVER,\"/\").concat(this.url);}async fetch(){let body=this.bodyObject?JSON.stringify(this.bodyObject):null;let response=await fetch(this.fullUrl,{method:this.method,headers:new Headers({\"Content-Type\":\"application/json\",\"Accept\":\"application/json\",...this.authorization}),body:body});return response;}}BackendRequest.SERVER=process.env.REACT_APP_BACKEND_SERVER;","map":{"version":3,"names":["BackendRequest","constructor","_ref","url","method","bodyObject","token","authorization","Authorization","concat","fullUrl","SERVER","fetch","body","JSON","stringify","response","headers","Headers","process","env","REACT_APP_BACKEND_SERVER"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/src/classes/BackendRequest.tsx"],"sourcesContent":["interface BackendRequestInput {\n  url: string;\n  method: string;\n  token: string;\n  bodyObject: object\n}\n\nexport default class BackendRequest {\n  url: string;\n  method: string;\n  bodyObject: object;\n  authorization: string;\n\n  constructor({ \n    url, method, bodyObject = null, token = null\n  }: BackendRequestInput) {\n\n    this.url = url\n    this.method = method;\n    this.authorization = token ? { Authorization: `Token ${token}` } : null;\n    this.bodyObject = bodyObject;\n  }\n\n  static SERVER = process.env.REACT_APP_BACKEND_SERVER; \n  \n  get fullUrl(): string {\n    return `${BackendRequest.SERVER}/${this.url}`;\n  }\n\n  async fetch() {\n    let body = this.bodyObject ? JSON.stringify(this.bodyObject) : null;\n\n    let response = await fetch(this.fullUrl, {\n      method: this.method,\n      headers: new Headers({\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\",\n        ...this.authorization\n      }),\n      body: body\n    });\n    return response;\n  }\n    \n}\n"],"mappings":"AAOA,cAAe,MAAM,CAAAA,cAAe,CAMlCC,WAAWA,CAAAC,IAAA,CAEa,IAFZ,CACVC,GAAG,CAAEC,MAAM,CAAEC,UAAU,CAAG,IAAI,CAAEC,KAAK,CAAG,IACrB,CAAC,CAAAJ,IAAA,MAPtBC,GAAG,aACHC,MAAM,aACNC,UAAU,aACVE,aAAa,QAMX,IAAI,CAACJ,GAAG,CAAGA,GAAG,CACd,IAAI,CAACC,MAAM,CAAGA,MAAM,CACpB,IAAI,CAACG,aAAa,CAAGD,KAAK,CAAG,CAAEE,aAAa,UAAAC,MAAA,CAAWH,KAAK,CAAG,CAAC,CAAG,IAAI,CACvE,IAAI,CAACD,UAAU,CAAGA,UAAU,CAC9B,CAIA,GAAI,CAAAK,OAAOA,CAAA,CAAW,CACpB,SAAAD,MAAA,CAAUT,cAAc,CAACW,MAAM,MAAAF,MAAA,CAAI,IAAI,CAACN,GAAG,EAC7C,CAEA,KAAM,CAAAS,KAAKA,CAAA,CAAG,CACZ,GAAI,CAAAC,IAAI,CAAG,IAAI,CAACR,UAAU,CAAGS,IAAI,CAACC,SAAS,CAAC,IAAI,CAACV,UAAU,CAAC,CAAG,IAAI,CAEnE,GAAI,CAAAW,QAAQ,CAAG,KAAM,CAAAJ,KAAK,CAAC,IAAI,CAACF,OAAO,CAAE,CACvCN,MAAM,CAAE,IAAI,CAACA,MAAM,CACnBa,OAAO,CAAE,GAAI,CAAAC,OAAO,CAAC,CACnB,cAAc,CAAE,kBAAkB,CAClC,QAAQ,CAAE,kBAAkB,CAC5B,GAAG,IAAI,CAACX,aACV,CAAC,CAAC,CACFM,IAAI,CAAEA,IACR,CAAC,CAAC,CACF,MAAO,CAAAG,QAAQ,CACjB,CAEF,CArCqBhB,cAAc,CAgB1BW,MAAM,CAAGQ,OAAO,CAACC,GAAG,CAACC,wBAAwB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}