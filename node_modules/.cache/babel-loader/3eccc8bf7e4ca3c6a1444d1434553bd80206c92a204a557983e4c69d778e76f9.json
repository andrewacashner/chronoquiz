{"ast":null,"code":"var _jsxFileName = \"/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/src/components/Timeline.tsx\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport TimelineContext from \"../store/TimelineContext\";\nimport Card from \"./Card\";\n\n/** CSS value for card's normal left margin when shifted right */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CARD_LEFT_MARGIN_DEFAULT = \"var(--card-margin)\";\nconst CARD_LEFT_MARGIN_EXTRA = `calc(5 * ${CARD_LEFT_MARGIN_DEFAULT})`;\n\n/** \n * Return a card element, if found at given coordinates; or null. \n * @param {number} x - horizontal coordinate\n * @param {number} y - vertical coordinate\n * @returns {element} - DOM div.card element at (x,y), if there is one\n */\nfunction cardAtCoord(x, y) {\n  let el = document.elementFromPoint(x, y);\n  return isCard(el) ? el : null;\n}\n\n/** Get the center point between two coordinates.\n * @param {number} a - smaller coordinate (left edge) \n * @param {number} b - larger coordinate (right edge)\n * @returns {number}\n */\nfunction midpoint(a, b) {\n  return (b - a) / 2 + a;\n}\nfunction isCardElement(el) {\n  return el.className === \"card\";\n}\nexport default function Clues() {\n  _s();\n  let context = useContext(TimelineContext);\n  let game = context.get;\n  let timeline = game.timeline;\n\n  //  let [lmargin, setLmargin] = useState(CARD_LEFT_MARGIN_DEFAULT);\n  //\n  //  const expandMargin = () => setLmargin(CARD_LEFT_MARGIN_EXTRA);\n  //  const restoreMargin = () => setLmargin(CARD_LEFT_MARGIN_DEFAULT);\n  //\n  //  // Allow to move by dragging. Insert gap to the left of a card when the drag\n  //  // point is in range to guess this card.\n  //  function dragoverHandler(event) {\n  //    event.preventDefault();\n  //\n  //    let bounds = event.target.getBoundingClientRect();\n  //    let center = midpoint(bounds.left, bounds.right);\n  //\n  //    if (event.clientX <= center) {\n  //      console.log(\"In range\");\n  //      let cardUnderDrag = cardAtCoord(event.clientX, event.clientY);\n  //      if (cardUnderDrag) {\n  //        expandMargin();\n  //      }\n  //    }\n  //    event.dataTransfer.effectAllowed = \"move\";\n  //  }\n  //\n  //  function dragleaveHandler(event: React.DragEvent<HTMLElement>): void {\n  //    let el = event.target;\n  //    if (isCardElement(el)) {\n  //      restoreMargin();\n  //    }\n  //  }\n\n  let dragDropInterface = {\n    onDrop: dropHandler\n    //    onDragOver: dragoverHandler,\n    //    onDragLeave: dragleaveHandler\n  };\n  if (game.isActive && timeline && !(timeline !== null && timeline !== void 0 && timeline.isEmpty())) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"timeline\",\n      ...dragDropInterface,\n      children: timeline.items.map(card => /*#__PURE__*/_jsxDEV(Card, {\n        children: card\n      }, card.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(Clues, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n_c = Clues;\nvar _c;\n$RefreshReg$(_c, \"Clues\");","map":{"version":3,"names":["useContext","TimelineContext","Card","jsxDEV","_jsxDEV","CARD_LEFT_MARGIN_DEFAULT","CARD_LEFT_MARGIN_EXTRA","cardAtCoord","x","y","el","document","elementFromPoint","isCard","midpoint","a","b","isCardElement","className","Clues","_s","context","game","get","timeline","dragDropInterface","onDrop","dropHandler","isActive","isEmpty","children","items","map","card","id","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/src/components/Timeline.tsx"],"sourcesContent":["import { useContext } from \"react\";\nimport TimelineContext from \"../store/TimelineContext\";\nimport Card from \"./Card\";\n\n/** CSS value for card's normal left margin when shifted right */\nconst CARD_LEFT_MARGIN_DEFAULT = \"var(--card-margin)\";\nconst CARD_LEFT_MARGIN_EXTRA = `calc(5 * ${CARD_LEFT_MARGIN_DEFAULT})`;\n\n/** \n * Return a card element, if found at given coordinates; or null. \n * @param {number} x - horizontal coordinate\n * @param {number} y - vertical coordinate\n * @returns {element} - DOM div.card element at (x,y), if there is one\n */\nfunction cardAtCoord(x, y) {\n  let el = document.elementFromPoint(x, y);\n  return isCard(el) ? el : null;\n}\n\n/** Get the center point between two coordinates.\n * @param {number} a - smaller coordinate (left edge) \n * @param {number} b - larger coordinate (right edge)\n * @returns {number}\n */\nfunction midpoint(a, b) {\n  return (b - a) / 2 + a;\n}\n\nfunction isCardElement(el: HTMLElement): boolean {\n  return el.className === \"card\";\n}\n\n\nexport default function Clues() {\n  let context = useContext(TimelineContext);\n  let game = context.get;\n  let timeline = game.timeline;\n\n  //  let [lmargin, setLmargin] = useState(CARD_LEFT_MARGIN_DEFAULT);\n  //\n  //  const expandMargin = () => setLmargin(CARD_LEFT_MARGIN_EXTRA);\n  //  const restoreMargin = () => setLmargin(CARD_LEFT_MARGIN_DEFAULT);\n  //\n  //  // Allow to move by dragging. Insert gap to the left of a card when the drag\n  //  // point is in range to guess this card.\n  //  function dragoverHandler(event) {\n  //    event.preventDefault();\n  //\n  //    let bounds = event.target.getBoundingClientRect();\n  //    let center = midpoint(bounds.left, bounds.right);\n  //\n  //    if (event.clientX <= center) {\n  //      console.log(\"In range\");\n  //      let cardUnderDrag = cardAtCoord(event.clientX, event.clientY);\n  //      if (cardUnderDrag) {\n  //        expandMargin();\n  //      }\n  //    }\n  //    event.dataTransfer.effectAllowed = \"move\";\n  //  }\n  //\n  //  function dragleaveHandler(event: React.DragEvent<HTMLElement>): void {\n  //    let el = event.target;\n  //    if (isCardElement(el)) {\n  //      restoreMargin();\n  //    }\n  //  }\n\n  let dragDropInterface = {\n    onDrop: dropHandler,\n    //    onDragOver: dragoverHandler,\n    //    onDragLeave: dragleaveHandler\n  } \n\n  if (game.isActive && timeline && !timeline?.isEmpty()) {\n    return(\n      <div className=\"timeline\" {...dragDropInterface}>\n        {timeline.items.map(card => <Card key={card.id}>{card}</Card>)}\n      </div>\n    );\n  }\n}\n"],"mappings":";;AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,OAAOC,eAAe,MAAM,0BAA0B;AACtD,OAAOC,IAAI,MAAM,QAAQ;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,wBAAwB,GAAG,oBAAoB;AACrD,MAAMC,sBAAsB,GAAI,YAAWD,wBAAyB,GAAE;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA,SAASE,WAAWA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACzB,IAAIC,EAAE,GAAGC,QAAQ,CAACC,gBAAgB,CAACJ,CAAC,EAAEC,CAAC,CAAC;EACxC,OAAOI,MAAM,CAACH,EAAE,CAAC,GAAGA,EAAE,GAAG,IAAI;AAC/B;;AAEA;AACA;AACA;AACA;AACA;AACA,SAASI,QAAQA,CAACC,CAAC,EAAEC,CAAC,EAAE;EACtB,OAAO,CAACA,CAAC,GAAGD,CAAC,IAAI,CAAC,GAAGA,CAAC;AACxB;AAEA,SAASE,aAAaA,CAACP,EAAe,EAAW;EAC/C,OAAOA,EAAE,CAACQ,SAAS,KAAK,MAAM;AAChC;AAGA,eAAe,SAASC,KAAKA,CAAA,EAAG;EAAAC,EAAA;EAC9B,IAAIC,OAAO,GAAGrB,UAAU,CAACC,eAAe,CAAC;EACzC,IAAIqB,IAAI,GAAGD,OAAO,CAACE,GAAG;EACtB,IAAIC,QAAQ,GAAGF,IAAI,CAACE,QAAQ;;EAE5B;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAIC,iBAAiB,GAAG;IACtBC,MAAM,EAAEC;IACR;IACA;EACF,CAAC;EAED,IAAIL,IAAI,CAACM,QAAQ,IAAIJ,QAAQ,IAAI,EAACA,QAAQ,aAARA,QAAQ,eAARA,QAAQ,CAAEK,OAAO,CAAC,CAAC,GAAE;IACrD,oBACEzB,OAAA;MAAKc,SAAS,EAAC,UAAU;MAAA,GAAKO,iBAAiB;MAAAK,QAAA,EAC5CN,QAAQ,CAACO,KAAK,CAACC,GAAG,CAACC,IAAI,iBAAI7B,OAAA,CAACF,IAAI;QAAA4B,QAAA,EAAgBG;MAAI,GAAdA,IAAI,CAACC,EAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAc,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC;EAEV;AACF;AAAClB,EAAA,CAhDuBD,KAAK;AAAAoB,EAAA,GAALpB,KAAK;AAAA,IAAAoB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}