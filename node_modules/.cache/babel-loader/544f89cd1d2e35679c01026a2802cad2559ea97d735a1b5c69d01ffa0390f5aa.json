{"ast":null,"code":"import debug from \"../lib/debug\";\nimport BackendRequest from \"../classes/BackendRequest\";\n\n// TODO could you include the token as a member?\n\nexport default class User {\n  constructor({\n    username = \"\",\n    password = \"\",\n    timelineList = []\n  } = {}) {\n    this.username = void 0;\n    this.password = void 0;\n    this.timelineList = void 0;\n    this.username = username;\n    this.password = password;\n    this.timelineList = timelineList;\n  }\n  get isEmpty() {\n    return this.username === \"\" && this.password === \"\";\n  }\n  profile() {\n    return {\n      username: this.username,\n      password: this.password\n    };\n  }\n  json() {\n    return JSON.stringify(this.profile());\n  }\n  async exists() {\n    let answer = false;\n    let request = new BackendRequest({\n      url: \"check_user/\",\n      method: \"POST\",\n      bodyObject: this.profile()\n    });\n    let response = await request.fetch();\n    if (response.ok) {\n      answer = true;\n    } else {\n      debug(\"User not found\");\n    }\n    return answer;\n  }\n  async register() {\n    let answer = false;\n    let request = new BackendRequest({\n      url: \"register/\",\n      method: \"POST\",\n      bodyObject: this\n    });\n    let response = await request.fetch();\n    if (response.ok) {\n      answer = true;\n    } else {\n      debug(\"Could not register user\");\n    }\n    return answer;\n  }\n  async authenticate() {\n    let token = null;\n    let request = new BackendRequest({\n      url: \"login/\",\n      method: \"POST\",\n      bodyObject: this\n    });\n    let response = await request.fetch();\n    if (response.ok) {\n      let json = await response.json();\n      token = json.token;\n      debug(`Authenticated user ${this.username}`);\n    } else {\n      debug(`Problem authenticating user ${this.username}: Response status ${response.status}, ${response.statusText}`);\n    }\n    return token;\n  }\n}","map":{"version":3,"names":["debug","BackendRequest","User","constructor","username","password","timelineList","isEmpty","profile","json","JSON","stringify","exists","answer","request","url","method","bodyObject","response","fetch","ok","register","authenticate","token","status","statusText"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/src/classes/User.tsx"],"sourcesContent":["import debug from \"../lib/debug\";\nimport BackendRequest from \"../classes/BackendRequest\";\n\n// TODO could you include the token as a member?\ninterface UserInput {\n  username: string,\n  password: string,\n  timelineList: array<number>; // ID numbers of Django Timeline instances\n} \n\nexport default class User {\n  username: string;\n  password: string;\n  timelineList: array<number>;\n\n  constructor({ \n    username = \"\", \n    password = \"\", \n    timelineList = [] \n  }: UserInput = {}) {\n    this.username = username;\n    this.password = password;\n    this.timelineList = timelineList;\n  }\n\n  get isEmpty(): boolean {\n    return (this.username === \"\" && this.password === \"\");\n  }\n\n  profile(): object {\n    return {\n      username: this.username,\n      password: this.password\n    };\n  }\n\n  json(): string {\n    return JSON.stringify(this.profile());\n  }\n\n  async exists(): boolean {\n    let answer = false;\n    let request = new BackendRequest({\n      url: \"check_user/\", \n      method: \"POST\", \n      bodyObject: this.profile()\n    });\n    let response = await request.fetch();\n    if (response.ok) {\n      answer = true;\n    } else {\n      debug(\"User not found\");\n    }\n    return answer;\n  }\n\n  async register(): boolean {\n    let answer = false;\n    let request = new BackendRequest({\n      url: \"register/\", \n      method: \"POST\", \n      bodyObject: this\n    });\n    let response = await request.fetch();\n    if (response.ok) {\n      answer = true;\n    } else {\n      debug(\"Could not register user\");\n    }\n    return answer;\n  }\n\n  async authenticate(): string {\n    let token = null;\n    let request = new BackendRequest({\n      url: \"login/\", \n      method: \"POST\", \n      bodyObject: this\n    });\n    let response = await request.fetch();\n    if (response.ok) {\n      let json = await response.json();\n      token = json.token;\n      debug(`Authenticated user ${this.username}`);\n    } else {\n      debug(`Problem authenticating user ${this.username}: Response status ${response.status}, ${response.statusText}`);\n    }\n    return token;\n  }\n\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,cAAc;AAChC,OAAOC,cAAc,MAAM,2BAA2B;;AAEtD;;AAOA,eAAe,MAAMC,IAAI,CAAC;EAKxBC,WAAWA,CAAC;IACVC,QAAQ,GAAG,EAAE;IACbC,QAAQ,GAAG,EAAE;IACbC,YAAY,GAAG;EACN,CAAC,GAAG,CAAC,CAAC,EAAE;IAAA,KARnBF,QAAQ;IAAA,KACRC,QAAQ;IAAA,KACRC,YAAY;IAOV,IAAI,CAACF,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB,IAAI,CAACC,YAAY,GAAGA,YAAY;EAClC;EAEA,IAAIC,OAAOA,CAAA,EAAY;IACrB,OAAQ,IAAI,CAACH,QAAQ,KAAK,EAAE,IAAI,IAAI,CAACC,QAAQ,KAAK,EAAE;EACtD;EAEAG,OAAOA,CAAA,EAAW;IAChB,OAAO;MACLJ,QAAQ,EAAE,IAAI,CAACA,QAAQ;MACvBC,QAAQ,EAAE,IAAI,CAACA;IACjB,CAAC;EACH;EAEAI,IAAIA,CAAA,EAAW;IACb,OAAOC,IAAI,CAACC,SAAS,CAAC,IAAI,CAACH,OAAO,CAAC,CAAC,CAAC;EACvC;EAEA,MAAMI,MAAMA,CAAA,EAAY;IACtB,IAAIC,MAAM,GAAG,KAAK;IAClB,IAAIC,OAAO,GAAG,IAAIb,cAAc,CAAC;MAC/Bc,GAAG,EAAE,aAAa;MAClBC,MAAM,EAAE,MAAM;MACdC,UAAU,EAAE,IAAI,CAACT,OAAO,CAAC;IAC3B,CAAC,CAAC;IACF,IAAIU,QAAQ,GAAG,MAAMJ,OAAO,CAACK,KAAK,CAAC,CAAC;IACpC,IAAID,QAAQ,CAACE,EAAE,EAAE;MACfP,MAAM,GAAG,IAAI;IACf,CAAC,MAAM;MACLb,KAAK,CAAC,gBAAgB,CAAC;IACzB;IACA,OAAOa,MAAM;EACf;EAEA,MAAMQ,QAAQA,CAAA,EAAY;IACxB,IAAIR,MAAM,GAAG,KAAK;IAClB,IAAIC,OAAO,GAAG,IAAIb,cAAc,CAAC;MAC/Bc,GAAG,EAAE,WAAW;MAChBC,MAAM,EAAE,MAAM;MACdC,UAAU,EAAE;IACd,CAAC,CAAC;IACF,IAAIC,QAAQ,GAAG,MAAMJ,OAAO,CAACK,KAAK,CAAC,CAAC;IACpC,IAAID,QAAQ,CAACE,EAAE,EAAE;MACfP,MAAM,GAAG,IAAI;IACf,CAAC,MAAM;MACLb,KAAK,CAAC,yBAAyB,CAAC;IAClC;IACA,OAAOa,MAAM;EACf;EAEA,MAAMS,YAAYA,CAAA,EAAW;IAC3B,IAAIC,KAAK,GAAG,IAAI;IAChB,IAAIT,OAAO,GAAG,IAAIb,cAAc,CAAC;MAC/Bc,GAAG,EAAE,QAAQ;MACbC,MAAM,EAAE,MAAM;MACdC,UAAU,EAAE;IACd,CAAC,CAAC;IACF,IAAIC,QAAQ,GAAG,MAAMJ,OAAO,CAACK,KAAK,CAAC,CAAC;IACpC,IAAID,QAAQ,CAACE,EAAE,EAAE;MACf,IAAIX,IAAI,GAAG,MAAMS,QAAQ,CAACT,IAAI,CAAC,CAAC;MAChCc,KAAK,GAAGd,IAAI,CAACc,KAAK;MAClBvB,KAAK,CAAE,sBAAqB,IAAI,CAACI,QAAS,EAAC,CAAC;IAC9C,CAAC,MAAM;MACLJ,KAAK,CAAE,+BAA8B,IAAI,CAACI,QAAS,qBAAoBc,QAAQ,CAACM,MAAO,KAAIN,QAAQ,CAACO,UAAW,EAAC,CAAC;IACnH;IACA,OAAOF,KAAK;EACd;AAEF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}