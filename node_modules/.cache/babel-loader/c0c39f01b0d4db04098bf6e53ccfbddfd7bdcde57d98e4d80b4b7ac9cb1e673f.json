{"ast":null,"code":"import _classPrivateFieldLooseBase from \"/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";\nimport _classPrivateFieldLooseKey from \"/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";\nvar _FactList;\nimport Card from \"./Card\";\nimport { default as Color } from \"./RgbColorMix\";\nvar _setColors = /*#__PURE__*/_classPrivateFieldLooseKey(\"setColors\");\nvar _shuffle = /*#__PURE__*/_classPrivateFieldLooseKey(\"shuffle\");\nexport default class FactList extends Array {\n  constructor(...args) {\n    super(...args);\n    // Shuffle the array, using the Fisher-Yates/Knuth shuffle\n    // (`https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle`)\n    Object.defineProperty(this, _shuffle, {\n      value: _shuffle2\n    });\n    //  constructor(cards: Array<Card> = []) {\n    //    super(...cards);\n    //    if (!this.isAllCards()) {\n    //      throw new Error(\"FactList must be made up of all Cards\");\n    //    }\n    //  }\n    // PRIVATE METHODS\n    // Set the colors of the cards in this list, in chronological order, to\n    // evenly spaced intervals along the spectrum.\n    Object.defineProperty(this, _setColors, {\n      value: _setColors2\n    });\n  }\n  // PUBLIC METHODS\n\n  // Sort the array by the date field, ascending.\n  sortByDate() {\n    this.sort((c1, c2) => {\n      return c1.date - c2.date;\n    });\n    return this;\n  }\n  setupClues() {\n    _classPrivateFieldLooseBase(this, _setColors)[_setColors]();\n    _classPrivateFieldLooseBase(this, _shuffle)[_shuffle]();\n  }\n  isEmpty() {\n    return this.length === 0;\n  }\n  allButLast() {\n    return this.slice(0, -1);\n  }\n  last() {\n    return this.at(-1);\n  }\n  dropLast() {\n    this.pop();\n    return this;\n  }\n  prepend(item) {\n    this.items.unshift(item);\n    return this;\n  }\n\n  // Add event to array and then resort by date.\n  addFact(card) {\n    this.push(card);\n    this.sortByDate();\n  }\n  resetMargins() {\n    this.map(c => c.expand = false);\n    return this;\n  }\n  addAnswer(answer) {\n    return this.prepend(answer).sortByDate().resetMargins();\n  }\n  findById(id) {\n    return this.find(c => c.id === id);\n  }\n  findIndexById(id) {\n    return this.findIndex(c => c.id === id);\n  }\n  expandAtId(id, expand = true) {\n    let match = this.findById(id);\n    match.expand = expand;\n    return this;\n  }\n  resetAtId(id) {\n    this.expandAtId(id, false);\n    return this;\n  }\n  isAllCards() {\n    return this.every(c => c instanceof Card);\n  }\n}\n_FactList = FactList;\nfunction _setColors2() {\n  this.sortByDate();\n  this.forEach((card, index) => {\n    this[index].color = Color.colorAtIndex(index, this.length, Color.SPECTRUM);\n  });\n  return this;\n}\nfunction _shuffle2() {\n  function randomInt(max) {\n    return Math.floor(Math.random() * max);\n  }\n  for (let i = this.length - 1; i > 0; --i) {\n    let j = randomInt(i);\n    [this[i], this[j]] = [this[j], this[i]];\n  }\n  return this;\n}","map":{"version":3,"names":["Card","default","Color","_setColors","_classPrivateFieldLooseKey","_shuffle","FactList","Array","constructor","args","Object","defineProperty","value","_shuffle2","_setColors2","sortByDate","sort","c1","c2","date","setupClues","_classPrivateFieldLooseBase","isEmpty","length","allButLast","slice","last","at","dropLast","pop","prepend","item","items","unshift","addFact","card","push","resetMargins","map","c","expand","addAnswer","answer","findById","id","find","findIndexById","findIndex","expandAtId","match","resetAtId","isAllCards","every","_FactList","forEach","index","color","colorAtIndex","SPECTRUM","randomInt","max","Math","floor","random","i","j"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/src/classes/FactList.tsx"],"sourcesContent":["import Card from \"./Card\";\nimport { default as Color } from \"./RgbColorMix\";\n\nexport default class FactList extends Array {\n  //  constructor(cards: Array<Card> = []) {\n  //    super(...cards);\n  //    if (!this.isAllCards()) {\n  //      throw new Error(\"FactList must be made up of all Cards\");\n  //    }\n  //  }\n\n  // PRIVATE METHODS\n  \n  // Set the colors of the cards in this list, in chronological order, to\n  // evenly spaced intervals along the spectrum.\n  #setColors(): FactList {\n    this.sortByDate();\n\n    this.forEach((card, index) => {\n      this[index].color = Color.colorAtIndex(index, this.length, \n                                              Color.SPECTRUM);\n    });\n    return this;\n  } \n\n  // Shuffle the array, using the Fisher-Yates/Knuth shuffle\n  // (`https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle`)\n  #shuffle(): FactList {\n    \n    function randomInt(max: number): number {\n      return Math.floor(Math.random() * max);\n    } \n\n    for (let i = this.length - 1; i > 0; --i) {\n      let j = randomInt(i);\n      [this[i], this[j]] = [this[j], this[i]];\n    }\n\n    return this;\n  }\n\n  // PUBLIC METHODS\n\n  // Sort the array by the date field, ascending.\n  sortByDate(): FactList {\n    this.sort((c1, c2) => { return c1.date - c2.date });\n    return this;\n  }\n\n  setupClues() {\n    this.#setColors();\n    this.#shuffle();\n  }\n\n  isEmpty(): boolean {\n    return this.length === 0;\n  }\n\n  allButLast(): Array<Card> {\n    return this.slice(0, -1);\n  }\n\n  last(): Card {\n    return this.at(-1);\n  }\n\n  dropLast(): FactList {\n    this.pop();\n    return this;\n  }\n\n  prepend(item): FactList {\n    this.items.unshift(item);\n    return this;\n  }\n  \n  // Add event to array and then resort by date.\n  addFact(card) {\n    this.push(card);\n    this.sortByDate();\n  }\n\n  resetMargins(): FactList {\n    this.map(c => c.expand = false);\n    return this;\n  }\n\n  addAnswer(answer): FactList {\n    return this.prepend(answer).sortByDate().resetMargins();\n  }\n\n  findById(id: string): Card {\n    return this.find(c => c.id === id);\n  }\n\n  findIndexById(id: string): Card {\n    return this.findIndex(c => c.id === id);\n  }\n\n  expandAtId(id: string, expand:boolean = true): FactList {\n    let match = this.findById(id);\n    match.expand = expand;\n    return this;\n  }\n\n  resetAtId(id: string): FactList {\n    this.expandAtId(id, false);\n    return this;\n  }\n\n  isAllCards(): boolean {\n    return this.every(c => c instanceof Card);\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}