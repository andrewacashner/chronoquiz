{"ast":null,"code":"import _classPrivateFieldLooseBase from\"/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseBase.js\";import _classPrivateFieldLooseKey from\"/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/node_modules/@babel/runtime/helpers/esm/classPrivateFieldLooseKey.js\";var _FactList;import Card from\"./Card\";import{default as Color}from\"./RgbColorMix\";var _items=/*#__PURE__*/_classPrivateFieldLooseKey(\"items\");var _setColors=/*#__PURE__*/_classPrivateFieldLooseKey(\"setColors\");var _shuffle=/*#__PURE__*/_classPrivateFieldLooseKey(\"shuffle\");export default class FactList{constructor(){let cards=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];// Shuffle the array, using the Fisher-Yates/Knuth shuffle\n// (`https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle`)\nObject.defineProperty(this,_shuffle,{value:_shuffle2});// PRIVATE METHODS\n// Set the colors of the cards in this list, in chronological order, to\n// evenly spaced intervals along the spectrum.\nObject.defineProperty(this,_setColors,{value:_setColors2});Object.defineProperty(this,_items,{writable:true,value:void 0});_classPrivateFieldLooseBase(this,_items)[_items]=cards;}// PUBLIC METHODS\nclone(){return new FactList([..._classPrivateFieldLooseBase(this,_items)[_items]]);}// Sort the array by the date field, ascending.\nsortByDate(){_classPrivateFieldLooseBase(this,_items)[_items].sort((c1,c2)=>{return c1.date-c2.date;});return this;}sortedByDate(){return this.clone().sortByDate();}setupClues(){_classPrivateFieldLooseBase(this,_setColors)[_setColors]();_classPrivateFieldLooseBase(this,_shuffle)[_shuffle]();}get length(){return _classPrivateFieldLooseBase(this,_items)[_items].length;}isEmpty(){return this.length===0;}allButLastItems(){return _classPrivateFieldLooseBase(this,_items)[_items].slice(0,-1);}last(){return _classPrivateFieldLooseBase(this,_items)[_items].at(-1);}pop(){let card=_classPrivateFieldLooseBase(this,_items)[_items].pop();return card;}dropLast(){this.pop();return this;}dropLastCopy(){return new FactList(_classPrivateFieldLooseBase(this,_items)[_items].slice(0,-1));}prepend(item){_classPrivateFieldLooseBase(this,_items)[_items].unshift(item);return this;}prependCopy(item){return new FactList([item,..._classPrivateFieldLooseBase(this,_items)[_items]]);}// Add event to array and then resort by date.\naddFact(card){_classPrivateFieldLooseBase(this,_items)[_items].push(card);this.sortByDate();}resetMargins(){let resetItems=[];for(let i of _classPrivateFieldLooseBase(this,_items)[_items]){let card=new Card({...i,expand:false});resetItems.push(card);}return new FactList(resetItems);}addAnswer(answer){return this.prependCopy(answer).sortedByDate().resetMargins();}findById(id){return _classPrivateFieldLooseBase(this,_items)[_items].find(c=>c.id===id);}findIndexById(id){return _classPrivateFieldLooseBase(this,_items)[_items].findIndex(c=>c.id===id);}at(index){return _classPrivateFieldLooseBase(this,_items)[_items].at(index);}map(fn){return _classPrivateFieldLooseBase(this,_items)[_items].map(fn);}}_FactList=FactList;function _setColors2(){this.sortByDate();let items=_classPrivateFieldLooseBase(this,_items)[_items];items.forEach((card,index)=>{items[index].color=Color.colorAtIndex(index,items.length,Color.SPECTRUM);});return this;}function _shuffle2(){function randomInt(max){return Math.floor(Math.random()*max);}let items=_classPrivateFieldLooseBase(this,_items)[_items];for(let i=items.length-1;i>0;--i){let j=randomInt(i);[items[i],items[j]]=[items[j],items[i]];}return this;}","map":{"version":3,"names":["Card","default","Color","_items","_classPrivateFieldLooseKey","_setColors","_shuffle","FactList","constructor","cards","arguments","length","undefined","Object","defineProperty","value","_shuffle2","_setColors2","writable","_classPrivateFieldLooseBase","clone","sortByDate","sort","c1","c2","date","sortedByDate","setupClues","isEmpty","allButLastItems","slice","last","at","pop","card","dropLast","dropLastCopy","prepend","item","unshift","prependCopy","addFact","push","resetMargins","resetItems","i","expand","addAnswer","answer","findById","id","find","c","findIndexById","findIndex","index","map","fn","_FactList","items","forEach","color","colorAtIndex","SPECTRUM","randomInt","max","Math","floor","random","j"],"sources":["/home/andrewacashner/Documents/computing/javascript/react/chronoquiz/src/classes/FactList.tsx"],"sourcesContent":["import Card from \"./Card\";\nimport { default as Color } from \"./RgbColorMix\";\n\nexport default class FactList {\n  #items: Array<Card>;\n\n  constructor(cards: Array<Card> = []) {\n    this.#items = cards;\n  }\n\n  // PRIVATE METHODS\n  \n  // Set the colors of the cards in this list, in chronological order, to\n  // evenly spaced intervals along the spectrum.\n  #setColors(): FactList {\n    this.sortByDate();\n    let items = this.#items;\n\n    items.forEach((card, index) => {\n      items[index].color = Color.colorAtIndex(index, items.length, \n                                              Color.SPECTRUM);\n    });\n    return this;\n  } \n\n  // Shuffle the array, using the Fisher-Yates/Knuth shuffle\n  // (`https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle`)\n  #shuffle(): FactList {\n    \n    function randomInt(max: number): number {\n      return Math.floor(Math.random() * max);\n    } \n\n    let items = this.#items;\n\n    for (let i = items.length - 1; i > 0; --i) {\n      let j = randomInt(i);\n      [items[i], items[j]] = [items[j], items[i]];\n    }\n\n    return this;\n  }\n\n  // PUBLIC METHODS\n\n  clone(): FactList {\n    return new FactList([...this.#items]);\n  }\n\n  // Sort the array by the date field, ascending.\n  sortByDate(): FactList {\n    this.#items.sort((c1, c2) => { return c1.date - c2.date });\n    return this;\n  }\n\n  sortedByDate(): FactList {\n    return this.clone().sortByDate();\n  }\n  \n\n  setupClues() {\n    this.#setColors();\n    this.#shuffle();\n  }\n\n  get length(): number {\n    return this.#items.length;\n  }\n\n  isEmpty(): boolean {\n    return this.length === 0;\n  }\n\n  allButLastItems(): Array<Card> {\n    return this.#items.slice(0, -1);\n  }\n\n  last(): Card {\n    return this.#items.at(-1);\n  }\n\n  pop(): Card {\n    let card = this.#items.pop();\n    return card;\n  }\n\n  dropLast(): FactList {\n    this.pop();\n    return this;\n  }\n\n  dropLastCopy(): FactList {\n    return new FactList(this.#items.slice(0, -1));\n  }\n\n  prepend(item): FactList {\n    this.#items.unshift(item);\n    return this;\n  }\n  \n  prependCopy(item): FactList {\n    return new FactList([item, ...this.#items]);\n  }\n\n  // Add event to array and then resort by date.\n  addFact(card) {\n    this.#items.push(card);\n    this.sortByDate();\n  }\n\n  resetMargins(): FactList {\n    let resetItems = [];\n    for (let i of this.#items) {\n      let card = new Card({...i, expand: false});\n      resetItems.push(card);\n    }\n    return new FactList(resetItems);\n  }\n\n  addAnswer(answer): FactList {\n    return this.prependCopy(answer).sortedByDate().resetMargins();\n  }\n\n  findById(id: string): Card {\n    return this.#items.find(c => c.id === id);\n  }\n\n  findIndexById(id: string): Card {\n    return this.#items.findIndex(c => c.id === id);\n  }\n\n  at(index: number): Card {\n    return this.#items.at(index);\n  }\n\n  map(fn: (Card) => Card): FactList {\n    return this.#items.map(fn);\n  }\n\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}